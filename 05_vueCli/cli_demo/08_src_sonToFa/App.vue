<template>
  <div class="app">
    <h2>{{ msg }}</h2>
    <School :getSchoolName="getSchoolName" />
    <hr />
    <!-- é€šè¿‡ v-on å®žçŽ°å­çˆ¶ä¼ é€’ -->
    <!-- <Edu @getName.once="getName" /> -->

    <!-- é€šè¿‡ mounted ref å®žçŽ°å­çˆ¶ä¼ é€’ï¼Œçµæ´»æ€§æ›´é«˜ï¼Œå¯ä»¥ç­‰é¡µé¢å»¶æ—¶åŽå†ç»‘å®šå­çˆ¶é€šä¿¡äº‹ä»¶  -->
    <Edu ref="getName" @click.native="show"/>
  </div>
</template>
<script>
import School from "./components/School.vue";
import Edu from "./components/Edu.vue";
export default {
  name: "App",
  components: {
    School,
    Edu,
  },
  data() {
    return {
      msg: "åƒé¥­ðŸš",
    };
  },
  methods: {
    getSchoolName(name) {
      // this.msg = this.msg + name
      console.log('App getSchoolName', name);
    },
    getName(name, ...parms) {
      // this.msg = this.msg + name
      console.log('App getName', name, parms);
    },
    show(){
      alert('studet ç»„ä»¶è§¦å‘ show')
    }
  },
  mounted() {
    // ç»™å­ç»„ä»¶èº«ä¸Šæ”¾ä¸€ä¸ªå›žè°ƒå‡½æ•°
    // this.$refs.getName.$on('getName',this.getName)

    // åªè§¦å‘ä¸€æ¬¡
    // this.$refs.getName.$once('getName',this.getName)

    this.$refs.getName.$on('getName', function (name, ...params) {
      console.log('App getName', name, params);
      console.log('this',this.$el);
    })

    // this.$refs.getName.$on('getName', (name, ...params)=> {
    //   console.log('App getName', name, params);
    //   console.log('this',this.$el);
    // })
  }
};
</script>
<style lang="less" scoped>
.app {
  background: #ddd;
}
</style>
